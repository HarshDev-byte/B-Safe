# B-Safe - System Diagrams

## 1. Use Case Diagram

```
                                    ┌─────────────────────────────────────────────────────────────┐
                                    │                      B-SAFE SYSTEM                          │
                                    │                                                             │
    ┌──────────┐                    │  ┌─────────────────────────────────────────────────────┐   │
    │          │                    │  │                  SOS MANAGEMENT                      │   │
    │          │───────────────────▶│  │  ○ Trigger SOS (Manual/Auto)                        │   │
    │          │                    │  │  ○ Cancel SOS                                        │   │
    │          │                    │  │  ○ View SOS History                                  │   │
    │   USER   │                    │  └─────────────────────────────────────────────────────┘   │
    │          │                    │                                                             │
    │          │                    │  ┌─────────────────────────────────────────────────────┐   │
    │          │───────────────────▶│  │              CONTACT MANAGEMENT                      │   │
    │          │                    │  │  ○ Add Emergency Contact                             │   │
    │          │                    │  │  ○ Edit/Delete Contact                               │   │
    │          │                    │  │  ○ Set Primary Contact                               │   │
    │          │                    │  │  ○ Configure Alert Methods (SMS/Email/Call)         │   │
    └──────────┘                    │  └─────────────────────────────────────────────────────┘   │
         │                          │                                                             │
         │                          │  ┌─────────────────────────────────────────────────────┐   │
         │                          │  │              SAFETY FEATURES                         │   │
         ├─────────────────────────▶│  │  ○ Start/Monitor Journey                            │   │
         │                          │  │  ○ View Safety Score                                 │   │
         │                          │  │  ○ Find Nearby Safe Places                          │   │
         │                          │  │  ○ Share Live Location                               │   │
         │                          │  │  ○ Trigger Fake Call                                 │   │
         │                          │  │  ○ Enable Stealth Mode                               │   │
         │                          │  └─────────────────────────────────────────────────────┘   │
         │                          │                                                             │
         │                          │  ┌─────────────────────────────────────────────────────┐   │
         │                          │  │                 SETTINGS                             │   │
         └─────────────────────────▶│  │  ○ Configure SOS Triggers                           │   │
                                    │  │  ○ Set Danger Zones                                  │   │
                                    │  │  ○ Schedule Check-ins                                │   │
                                    │  │  ○ Update Profile/Medical Info                       │   │
                                    │  └─────────────────────────────────────────────────────┘   │
                                    │                                                             │
                                    └─────────────────────────────────────────────────────────────┘
                                                              │
                                                              │
    ┌──────────────┐                                          │
    │  EMERGENCY   │◀─────────────────────────────────────────┤
    │   CONTACT    │  Receives: SMS, Email, Call, Location    │
    └──────────────┘                                          │
                                                              │
    ┌──────────────┐                                          │
    │   GOOGLE     │◀─────────────────────────────────────────┘
    │   SERVICES   │  Maps, Places, Auth, Firebase
    └──────────────┘
```

---

## 2. SOS Process Flow Diagram

```
┌─────────────────────────────────────────────────────────────────────────────────────────────┐
│                              SOS EMERGENCY FLOW                                              │
└─────────────────────────────────────────────────────────────────────────────────────────────┘

                                    ┌───────────────┐
                                    │     START     │
                                    └───────┬───────┘
                                            │
                                            ▼
                              ┌─────────────────────────┐
                              │   Trigger Detected?     │
                              │  (Volume/Shake/Voice/   │
                              │   Power/Widget/Manual)  │
                              └───────────┬─────────────┘
                                          │
                         ┌────────────────┼────────────────┐
                         │                │                │
                         ▼                ▼                ▼
                  ┌────────────┐   ┌────────────┐   ┌────────────┐
                  │  Volume    │   │   Shake    │   │   Manual   │
                  │  Buttons   │   │  Detected  │   │   Button   │
                  │  Pattern   │   │            │   │   Press    │
                  └─────┬──────┘   └─────┬──────┘   └─────┬──────┘
                        │                │                │
                        └────────────────┼────────────────┘
                                         │
                                         ▼
                              ┌─────────────────────┐
                              │   START COUNTDOWN   │
                              │    (5 seconds)      │
                              │   🔴 Visual Alert   │
                              │   📳 Vibration      │
                              └──────────┬──────────┘
                                         │
                              ┌──────────┴──────────┐
                              │                     │
                              ▼                     ▼
                    ┌─────────────────┐   ┌─────────────────┐
                    │  User Cancels?  │   │ Countdown = 0?  │
                    │   (Tap Cancel)  │   │                 │
                    └────────┬────────┘   └────────┬────────┘
                             │                     │
                             ▼                     ▼
                    ┌─────────────────┐   ┌─────────────────┐
                    │  CANCELLED      │   │  SOS ACTIVATED  │
                    │  Return to Idle │   │                 │
                    └─────────────────┘   └────────┬────────┘
                                                   │
                    ┌──────────────────────────────┼──────────────────────────────┐
                    │                              │                              │
                    ▼                              ▼                              ▼
          ┌─────────────────┐           ┌─────────────────┐           ┌─────────────────┐
          │  📍 GET LOCATION │           │  📱 START       │           │  🔊 ACTIVATE    │
          │  High Accuracy   │           │  FOREGROUND     │           │  ALERTS         │
          │  GPS + Network   │           │  SERVICE        │           │  Siren + Flash  │
          └────────┬────────┘           └────────┬────────┘           └────────┬────────┘
                   │                              │                              │
                   └──────────────────────────────┼──────────────────────────────┘
                                                  │
                                                  ▼
                              ┌─────────────────────────────────┐
                              │      PARALLEL ALERT DISPATCH     │
                              └─────────────────┬───────────────┘
                                                │
                   ┌────────────────────────────┼────────────────────────────┐
                   │                            │                            │
                   ▼                            ▼                            ▼
         ┌─────────────────┐          ┌─────────────────┐          ┌─────────────────┐
         │   📨 SMS ALERT   │          │   📧 EMAIL      │          │   📞 AUTO CALL  │
         │                 │          │   ALERT         │          │                 │
         │ • Location Link │          │ • Location      │          │ • Primary       │
         │ • Google Maps   │          │ • Medical Info  │          │   Contact       │
         │ • Battery %     │          │ • Battery %     │          │ • Then Others   │
         │ • Medical Info  │          │                 │          │                 │
         └────────┬────────┘          └────────┬────────┘          └────────┬────────┘
                  │                            │                            │
                  │                            │                            │
                  │    ┌───────────────────────┴───────────────────────┐    │
                  │    │                                               │    │
                  │    ▼                                               │    │
                  │  ┌─────────────────────────────────────────────┐   │    │
                  │  │           🎤 AUDIO RECORDING                 │   │    │
                  │  │         (Evidence Collection)               │   │    │
                  │  └─────────────────────────────────────────────┘   │    │
                  │                                                    │    │
                  └────────────────────────┬───────────────────────────┘    │
                                           │                                │
                                           ▼                                │
                              ┌─────────────────────────┐                   │
                              │  ⏱️ PERIODIC LOCATION    │◀──────────────────┘
                              │     UPDATES             │
                              │  (Every 5-60 seconds)   │
                              └───────────┬─────────────┘
                                          │
                                          ▼
                              ┌─────────────────────────┐
                              │   User Cancels SOS?     │
                              └───────────┬─────────────┘
                                          │
                         ┌────────────────┴────────────────┐
                         │                                 │
                         ▼                                 ▼
               ┌─────────────────┐               ┌─────────────────┐
               │       NO        │               │       YES       │
               │  Continue Loop  │               │   STOP ALL      │
               │                 │               │   • Stop Alerts │
               └────────┬────────┘               │   • Stop Audio  │
                        │                        │   • Stop Updates│
                        │                        │   • Log Event   │
                        ▼                        └────────┬────────┘
               ┌─────────────────┐                        │
               │  Max Updates    │                        ▼
               │  Reached?       │               ┌─────────────────┐
               └────────┬────────┘               │      END        │
                        │                        └─────────────────┘
                        ▼
               ┌─────────────────┐
               │  Auto-Stop &    │
               │  Log Event      │
               └────────┬────────┘
                        │
                        ▼
               ┌─────────────────┐
               │      END        │
               └─────────────────┘
```

---

## 3. Journey Monitoring Flow

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                        JOURNEY MONITORING FLOW                               │
└─────────────────────────────────────────────────────────────────────────────┘

                              ┌───────────────┐
                              │  User Starts  │
                              │   Journey     │
                              └───────┬───────┘
                                      │
                                      ▼
                        ┌─────────────────────────┐
                        │  Set Destination &      │
                        │  Expected Arrival Time  │
                        │  + Grace Period         │
                        └───────────┬─────────────┘
                                    │
                                    ▼
                        ┌─────────────────────────┐
                        │  Journey Active         │
                        │  📍 Tracking Location   │
                        └───────────┬─────────────┘
                                    │
                    ┌───────────────┼───────────────┐
                    │               │               │
                    ▼               ▼               ▼
          ┌─────────────┐  ┌─────────────┐  ┌─────────────┐
          │   Arrived   │  │   Running   │  │   Overdue   │
          │   Early?    │  │   Late?     │  │             │
          └──────┬──────┘  └──────┬──────┘  └──────┬──────┘
                 │                │                │
                 ▼                ▼                ▼
          ┌─────────────┐  ┌─────────────┐  ┌─────────────┐
          │ User Taps   │  │ User Taps   │  │ Grace Period│
          │ "I'm Safe"  │  │ "Extend"    │  │ Expired?    │
          └──────┬──────┘  └──────┬──────┘  └──────┬──────┘
                 │                │                │
                 ▼                ▼                ▼
          ┌─────────────┐  ┌─────────────┐  ┌─────────────┐
          │  Journey    │  │ Add Extra   │  │ Alert       │
          │  Complete   │  │ Time        │  │ Contacts    │
          │  ✅         │  │ Continue    │  │ ⚠️          │
          └─────────────┘  └─────────────┘  └──────┬──────┘
                                                   │
                                          ┌────────┴────────┐
                                          │                 │
                                          ▼                 ▼
                                   ┌─────────────┐  ┌─────────────┐
                                   │ Auto-SOS    │  │ User        │
                                   │ Enabled?    │  │ Responds?   │
                                   └──────┬──────┘  └──────┬──────┘
                                          │                │
                                          ▼                ▼
                                   ┌─────────────┐  ┌─────────────┐
                                   │ Trigger     │  │ Cancel      │
                                   │ Full SOS    │  │ Alert       │
                                   └─────────────┘  └─────────────┘
```

---

## 4. System Architecture Diagram

```
┌─────────────────────────────────────────────────────────────────────────────────────────────┐
│                                    PRESENTATION LAYER                                        │
│  ┌───────────────────────────────────────────────────────────────────────────────────────┐  │
│  │                         Jetpack Compose UI (Material 3)                                │  │
│  │  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐       │  │
│  │  │  Home    │ │ Contacts │ │ Journey  │ │  Safety  │ │ Settings │ │  Maps    │       │  │
│  │  │  Screen  │ │  Screen  │ │  Screen  │ │  Score   │ │  Screen  │ │  Screen  │       │  │
│  │  └────┬─────┘ └────┬─────┘ └────┬─────┘ └────┬─────┘ └────┬─────┘ └────┬─────┘       │  │
│  │       └────────────┴────────────┴────────────┴────────────┴────────────┘              │  │
│  │                                         │                                              │  │
│  │                              ┌──────────┴──────────┐                                   │  │
│  │                              │    MainViewModel    │                                   │  │
│  │                              │    (MVVM Pattern)   │                                   │  │
│  │                              └──────────┬──────────┘                                   │  │
│  └───────────────────────────────────────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────┬───────────────────────────────────────────────┘
                                              │
                                              ▼
┌─────────────────────────────────────────────────────────────────────────────────────────────┐
│                                      DOMAIN LAYER                                            │
│  ┌───────────────────────────────────────────────────────────────────────────────────────┐  │
│  │                              Core Business Logic                                       │  │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐                   │  │
│  │  │ SOSManager  │  │  Location   │  │   Alert     │  │  Trigger    │                   │  │
│  │  │             │  │  Manager    │  │  Manager    │  │  Detector   │                   │  │
│  │  │ • Trigger   │  │ • GPS       │  │ • Siren     │  │ • Volume    │                   │  │
│  │  │ • Cancel    │  │ • Updates   │  │ • Flash     │  │ • Shake     │                   │  │
│  │  │ • Alerts    │  │ • Tracking  │  │ • Vibrate   │  │ • Power     │                   │  │
│  │  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘                   │  │
│  │                                                                                        │  │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐                   │  │
│  │  │  Journey    │  │   Safety    │  │   Audio     │  │   Places    │                   │  │
│  │  │  Monitor    │  │   Score     │  │  Evidence   │  │  Manager    │                   │  │
│  │  │ • Track     │  │ • Calculate │  │ • Record    │  │ • Nearby    │                   │  │
│  │  │ • Alert     │  │ • Recommend │  │ • Save      │  │ • Search    │                   │  │
│  │  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────┘                   │  │
│  └───────────────────────────────────────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────┬───────────────────────────────────────────────┘
                                              │
                                              ▼
┌─────────────────────────────────────────────────────────────────────────────────────────────┐
│                                       DATA LAYER                                             │
│  ┌─────────────────────────────────┐     ┌─────────────────────────────────┐                │
│  │         LOCAL STORAGE           │     │        REMOTE SERVICES          │                │
│  │  ┌───────────────────────────┐  │     │  ┌───────────────────────────┐  │                │
│  │  │      Room Database        │  │     │  │    Firebase Services      │  │                │
│  │  │  • Contacts               │  │     │  │  • Authentication         │  │                │
│  │  │  • SOS Events             │  │     │  │  • Firestore              │  │                │
│  │  │  • Danger Zones           │  │     │  │  • Cloud Messaging        │  │                │
│  │  │  • Check-ins              │  │     │  └───────────────────────────┘  │                │
│  │  └───────────────────────────┘  │     │  ┌───────────────────────────┐  │                │
│  │  ┌───────────────────────────┐  │     │  │    Google Services        │  │                │
│  │  │   DataStore (Encrypted)   │  │     │  │  • Maps SDK               │  │                │
│  │  │  • User Settings          │  │     │  │  • Places API             │  │                │
│  │  │  • Regional Settings      │  │     │  │  • Location Services      │  │                │
│  │  └───────────────────────────┘  │     │  └───────────────────────────┘  │                │
│  └─────────────────────────────────┘     └─────────────────────────────────┘                │
└─────────────────────────────────────────────────────────────────────────────────────────────┘
                                              │
                                              ▼
┌─────────────────────────────────────────────────────────────────────────────────────────────┐
│                                  BACKGROUND SERVICES                                         │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────┐        │
│  │ SOS Foreground  │  │    Trigger      │  │    Location     │  │   SOS Widget    │        │
│  │    Service      │  │   Detection     │  │   Tracking      │  │    Provider     │        │
│  │                 │  │    Service      │  │    Service      │  │                 │        │
│  └─────────────────┘  └─────────────────┘  └─────────────────┘  └─────────────────┘        │
└─────────────────────────────────────────────────────────────────────────────────────────────┘
```

---

## 5. Data Flow Diagram

```
┌─────────────────────────────────────────────────────────────────────────────────────────────┐
│                                    DATA FLOW DIAGRAM                                         │
└─────────────────────────────────────────────────────────────────────────────────────────────┘

                                    ┌─────────────┐
                                    │    USER     │
                                    └──────┬──────┘
                                           │
              ┌────────────────────────────┼────────────────────────────┐
              │                            │                            │
              ▼                            ▼                            ▼
    ┌─────────────────┐          ┌─────────────────┐          ┌─────────────────┐
    │  Add Contact    │          │  Trigger SOS    │          │  Start Journey  │
    │  Information    │          │                 │          │                 │
    └────────┬────────┘          └────────┬────────┘          └────────┬────────┘
             │                            │                            │
             ▼                            ▼                            ▼
    ┌─────────────────┐          ┌─────────────────┐          ┌─────────────────┐
    │  Validate &     │          │  Get Current    │          │  Store Journey  │
    │  Store in DB    │          │  Location       │          │  Parameters     │
    └────────┬────────┘          └────────┬────────┘          └────────┬────────┘
             │                            │                            │
             ▼                            ▼                            ▼
    ┌─────────────────┐          ┌─────────────────┐          ┌─────────────────┐
    │  Room Database  │◀─────────│  Location       │          │  Journey        │
    │  (Contacts)     │          │  Manager        │          │  Monitor        │
    └─────────────────┘          └────────┬────────┘          └────────┬────────┘
                                          │                            │
                                          ▼                            │
                                 ┌─────────────────┐                   │
                                 │  Format Alert   │                   │
                                 │  Message        │                   │
                                 └────────┬────────┘                   │
                                          │                            │
              ┌───────────────────────────┼───────────────────────────┐│
              │                           │                           ││
              ▼                           ▼                           ▼▼
    ┌─────────────────┐          ┌─────────────────┐          ┌─────────────────┐
    │  SMS Manager    │          │  Email Manager  │          │  Push Notif     │
    │  (SmsManager)   │          │  (Firebase)     │          │  (FCM)          │
    └────────┬────────┘          └────────┬────────┘          └────────┬────────┘
             │                            │                            │
             └────────────────────────────┼────────────────────────────┘
                                          │
                                          ▼
                                 ┌─────────────────┐
                                 │   EMERGENCY     │
                                 │   CONTACTS      │
                                 │   RECEIVE       │
                                 │   ALERTS        │
                                 └─────────────────┘
```

---

## 6. State Diagram - SOS States

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                           SOS STATE DIAGRAM                                  │
└─────────────────────────────────────────────────────────────────────────────┘

                              ┌─────────────────┐
                              │                 │
                              │      IDLE       │◀──────────────────────────┐
                              │                 │                           │
                              └────────┬────────┘                           │
                                       │                                    │
                                       │ Trigger Detected                   │
                                       │ (Volume/Shake/Manual)              │
                                       ▼                                    │
                              ┌─────────────────┐                           │
                              │                 │                           │
                              │   COUNTDOWN     │───────────────────────────┤
                              │   (5 seconds)   │  User Cancels             │
                              │                 │                           │
                              └────────┬────────┘                           │
                                       │                                    │
                                       │ Countdown Complete                 │
                                       ▼                                    │
                              ┌─────────────────┐                           │
                              │                 │                           │
                              │     ACTIVE      │───────────────────────────┘
                              │                 │  User Cancels / Max Updates
                              │  • Sending SMS  │
                              │  • Sending Email│
                              │  • Auto Calling │
                              │  • Siren Active │
                              │  • Recording    │
                              │  • Location Loop│
                              │                 │
                              └─────────────────┘

    State Transitions:
    ─────────────────
    IDLE → COUNTDOWN      : Any trigger detected
    COUNTDOWN → IDLE      : User cancels during countdown
    COUNTDOWN → ACTIVE    : Countdown reaches 0
    ACTIVE → IDLE         : User cancels OR max updates reached
```

---

## 7. Component Interaction Diagram

```
┌─────────────────────────────────────────────────────────────────────────────────────────────┐
│                              COMPONENT INTERACTION                                           │
└─────────────────────────────────────────────────────────────────────────────────────────────┘

    ┌──────────────┐         ┌──────────────┐         ┌──────────────┐
    │   Trigger    │────────▶│  SOSManager  │────────▶│   Alert      │
    │   Detector   │ detect  │              │ notify  │   Manager    │
    │              │         │              │         │              │
    │ • Volume     │         │ • State Mgmt │         │ • Siren      │
    │ • Shake      │         │ • Countdown  │         │ • Flashlight │
    │ • Power      │         │ • Dispatch   │         │ • Vibration  │
    └──────────────┘         └──────┬───────┘         └──────────────┘
                                    │
                    ┌───────────────┼───────────────┐
                    │               │               │
                    ▼               ▼               ▼
           ┌──────────────┐ ┌──────────────┐ ┌──────────────┐
           │   Location   │ │  Repository  │ │   Audio      │
           │   Manager    │ │              │ │  Evidence    │
           │              │ │ • Contacts   │ │   Manager    │
           │ • GPS        │ │ • Settings   │ │              │
           │ • Updates    │ │ • Events     │ │ • Record     │
           │ • Accuracy   │ │              │ │ • Save       │
           └──────────────┘ └──────────────┘ └──────────────┘
                    │               │
                    ▼               ▼
           ┌──────────────┐ ┌──────────────┐
           │   Google     │ │    Room      │
           │   Location   │ │   Database   │
           │   Services   │ │              │
           └──────────────┘ └──────────────┘
```

---

## 8. AI Threat Detection Flow

```
┌─────────────────────────────────────────────────────────────────────────────────────────────┐
│                              AI THREAT DETECTION FLOW                                        │
└─────────────────────────────────────────────────────────────────────────────────────────────┘

                              ┌─────────────────┐
                              │  AI Monitoring  │
                              │    Started      │
                              └────────┬────────┘
                                       │
              ┌────────────────────────┼────────────────────────┐
              │                        │                        │
              ▼                        ▼                        ▼
    ┌─────────────────┐      ┌─────────────────┐      ┌─────────────────┐
    │  Accelerometer  │      │    Gyroscope    │      │    Location     │
    │     Sensor      │      │     Sensor      │      │    Updates      │
    └────────┬────────┘      └────────┬────────┘      └────────┬────────┘
             │                        │                        │
             ▼                        ▼                        ▼
    ┌─────────────────┐      ┌─────────────────┐      ┌─────────────────┐
    │  Fall Detection │      │ Device Snatch   │      │ Speed Analysis  │
    │  Sudden Stop    │      │   Detection     │      │ Route Deviation │
    └────────┬────────┘      └────────┬────────┘      └────────┬────────┘
             │                        │                        │
             └────────────────────────┼────────────────────────┘
                                      │
                                      ▼
                           ┌─────────────────────┐
                           │  Threat Assessment  │
                           │  Engine             │
                           │                     │
                           │  • Calculate Risk   │
                           │  • Weight Threats   │
                           │  • Generate Score   │
                           └──────────┬──────────┘
                                      │
                    ┌─────────────────┼─────────────────┐
                    │                 │                 │
                    ▼                 ▼                 ▼
          ┌─────────────┐   ┌─────────────┐   ┌─────────────┐
          │    LOW      │   │  MODERATE   │   │  CRITICAL   │
          │  (0-25)     │   │  (25-70)    │   │  (70-100)   │
          │             │   │             │   │             │
          │ Continue    │   │ Show Alert  │   │ Auto-SOS    │
          │ Monitoring  │   │ to User     │   │ Trigger     │
          └─────────────┘   └─────────────┘   └──────┬──────┘
                                                     │
                                                     ▼
                                           ┌─────────────────┐
                                           │  SOS Manager    │
                                           │  triggerSOS()   │
                                           └─────────────────┘
```

---

## 9. Safe Walk Virtual Companion Flow

```
┌─────────────────────────────────────────────────────────────────────────────────────────────┐
│                           SAFE WALK COMPANION FLOW                                           │
└─────────────────────────────────────────────────────────────────────────────────────────────┘

                              ┌─────────────────┐
                              │  User Starts    │
                              │  Safe Walk      │
                              └────────┬────────┘
                                       │
                                       ▼
                        ┌─────────────────────────┐
                        │  Set Companion &        │
                        │  Destination & ETA      │
                        └───────────┬─────────────┘
                                    │
                                    ▼
                        ┌─────────────────────────┐
                        │  Notify Companion       │
                        │  📱 SMS with Track Link │
                        └───────────┬─────────────┘
                                    │
                                    ▼
                        ┌─────────────────────────┐
                        │  Walking Session        │
                        │  📍 Location Tracking   │
                        └───────────┬─────────────┘
                                    │
                    ┌───────────────┼───────────────┐
                    │               │               │
                    ▼               ▼               ▼
          ┌─────────────┐  ┌─────────────┐  ┌─────────────┐
          │  Check-In   │  │   Arrived   │  │   Overdue   │
          │  Request    │  │   at Dest?  │  │             │
          │  (5 min)    │  │             │  │             │
          └──────┬──────┘  └──────┬──────┘  └──────┬──────┘
                 │                │                │
                 ▼                ▼                ▼
          ┌─────────────┐  ┌─────────────┐  ┌─────────────┐
          │ User        │  │ Auto-Detect │  │ Alert       │
          │ Responds?   │  │ Arrival     │  │ Companion   │
          └──────┬──────┘  └──────┬──────┘  └──────┬──────┘
                 │                │                │
        ┌────────┴────────┐      │         ┌──────┴──────┐
        │                 │      │         │             │
        ▼                 ▼      ▼         ▼             ▼
  ┌──────────┐     ┌──────────┐ ┌──────────┐ ┌──────────┐
  │  "I'm    │     │  "Need   │ │ Session  │ │ Trigger  │
  │   OK"    │     │  Help"   │ │ Complete │ │ SOS      │
  │          │     │          │ │ ✅       │ │          │
  │ Continue │     │ SOS      │ │          │ │          │
  └──────────┘     └──────────┘ └──────────┘ └──────────┘
```

---

## 10. Community Safety Reports Flow

```
┌─────────────────────────────────────────────────────────────────────────────────────────────┐
│                         COMMUNITY SAFETY REPORTS FLOW                                        │
└─────────────────────────────────────────────────────────────────────────────────────────────┘

    ┌──────────────┐                              ┌──────────────┐
    │   User A     │                              │   User B     │
    │  (Reporter)  │                              │  (Viewer)    │
    └──────┬───────┘                              └──────┬───────┘
           │                                             │
           ▼                                             ▼
    ┌─────────────────┐                        ┌─────────────────┐
    │  Submit Report  │                        │  View Nearby    │
    │  • Type         │                        │  Reports        │
    │  • Severity     │                        │                 │
    │  • Description  │                        │                 │
    │  • Location     │                        │                 │
    └────────┬────────┘                        └────────┬────────┘
             │                                          │
             ▼                                          │
    ┌─────────────────┐                                 │
    │  Store Report   │                                 │
    │  in Database    │◀────────────────────────────────┘
    └────────┬────────┘
             │
             ▼
    ┌─────────────────┐
    │  Calculate      │
    │  Area Safety    │
    │  Score          │
    │                 │
    │  • Count        │
    │  • Severity     │
    │  • Recency      │
    └────────┬────────┘
             │
             ▼
    ┌─────────────────┐
    │  Display to     │
    │  All Users      │
    │                 │
    │  • Map Markers  │
    │  • Safety Score │
    │  • Warnings     │
    └─────────────────┘
```

---

These diagrams can be rendered using:
- **Mermaid** (GitHub, GitLab, Notion)
- **PlantUML** 
- **Draw.io** (for visual editing)
- **Lucidchart**

For presentations, I recommend converting these ASCII diagrams to visual diagrams using Draw.io or Figma.
